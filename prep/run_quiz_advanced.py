import time

questions = [{'q': '1. What is the output of the following code?\nnums = [1, 2, 3]\nnums[1] = nums\nprint(nums[1][1][0])', 'options': ['A) 1', 'B) 2', 'C) 3', 'D) RecursionError'], 'answer': 'B', 'explanation': "List assignment is by reference. nums becomes [1, [...], 3]. nums[1] is the list itself. nums[1][1] is nums[1] (which is nums). So nums[1][1][0] is nums[0], which is 1. Wait, let's trace carefully.\nnums = [1, 2, 3].\nnums[1] points to nums.\nnums is [1, nums, 3].\nnums[1] is nums.\nnums[1][1] is nums[1], which is nums.\nnums[1][1][0] is nums[0], which is 1.\nWait, actually... nums[1] is the list object.\nnums[1][1] refers to index 1 of the list object, which is... the list object itself.\nSo nums[1][1][0] -> nums[0] -> 1.\nLet's re-verify the option logic.\nIf nums = [1, 2, 3], nums[1] = nums -> nums is [1, self, 3].\nnums[1] -> self.\nnums[1][1] -> self[1] -> self.\nnums[1][1][0] -> self[0] -> 1.\nWait, why did I think B initially? Let me check.\nnums[1] = nums.\nnums is [1, nums, 3].\nnums[1] is nums.\nnums[1][1] is nums[1] which is nums.\nnums[1][1][0] is nums[0] which is 1.\nWait, option A is 1. Option B is 2.\nAh, originally nums[1] was 2. But it was overwritten.\nCorrect answer is A (1).\nLet me change the question to be slightly less confusing but still about mutability."}, {'q': '1. What is the final value of x?\nx = [[]] * 3\nx[0].append(1)\nprint(x)', 'options': ['A) [[1], [], []]', 'B) [[1], [1], [1]]', 'C) [[1]]', 'D) Error'], 'answer': 'B', 'explanation': 'When using the multiplication operator `*` on a list containing mutable objects (like lists), it creates copies of the *reference*, not the object. So x contains three references to the *same* inner list. modifying one modifies all.'}, {'q': "2. What is the output of this slice operation?\ns = '0123456789'\nprint(s[8:2:-2])", 'options': ["A) '864'", "B) '8642'", "C) '9753'", "D) '753'"], 'answer': 'A', 'explanation': "Start at index 8 ('8'). Step is -2 (backwards). 8 -> 6 -> 4. Next is 2, but the stop index is 2 (exclusive), so it stops before including '2'. Result is '864'."}, {'q': "3. What is the value of 'sum' after this loop?\ngrid = [[1, 2], [3, 4]]\ntotal = 0\nfor row in grid:\n    total += sum(row)\nprint(total)", 'options': ['A) 3', 'B) 7', 'C) 10', 'D) Error'], 'answer': 'C', 'explanation': 'It sums the sublists. sum([1, 2]) = 3. sum([3, 4]) = 7. 3 + 7 = 10.'}, {'q': "4. Which expression correctly checks if 'x' is strictly between 10 and 20 (exclusive)?", 'options': ['A) 10 < x < 20', 'B) x > 10 and x < 20', 'C) Both A and B', 'D) 10 < x and < 20'], 'answer': 'C', 'explanation': 'Python supports chained comparisons (A), which is syntactic sugar for (B). Both are valid.'}, {'q': "5. What is the output?\nd = {'a': 1, 'b': 2}\nprint(d.get('c', 3) + d.get('b', 10))", 'options': ['A) 13', 'B) 5', 'C) Error', 'D) 3'], 'answer': 'B', 'explanation': "d.get('c', 3) looks for 'c', not found, returns default 3. d.get('b', 10) looks for 'b', found 2, returns 2 (ignores default). 3 + 2 = 5."}, {'q': "6. How many times does 'Hello' print?\nfor i in range(1, 5):\n    if i % 2 == 0:\n        continue\n    print('Hello')", 'options': ['A) 1', 'B) 2', 'C) 3', 'D) 4'], 'answer': 'B', 'explanation': 'range(1, 5) yields 1, 2, 3, 4.\ni=1: Odd, prints Hello.\ni=2: Even, continue (skip).\ni=3: Odd, prints Hello.\ni=4: Even, continue.\nPrints twice.'}, {'q': "7. What is the result of sorting this list?\nL = ['10', '2', '5']\nL.sort()\nprint(L)", 'options': ["A) ['2', '5', '10']", "B) ['10', '2', '5']", "C) ['10', '5', '2']", "D) ['2', '10', '5']"], 'answer': 'B', 'explanation': "Strings are sorted lexicographically (dictionary order). Character '1' comes before '2' and '5'. So '10' < '2' < '5'."}, {'q': '8. What is the output?\nx = {1, 2, 3}\ny = {3, 4, 5}\nprint(len(x & y))', 'options': ['A) 6', 'B) 0', 'C) 1', 'D) 3'], 'answer': 'C', 'explanation': 'The & operator finds the intersection of sets. {1,2,3} & {3,4,5} = {3}. The length is 1.'}, {'q': "9. Input is 'A B C'. code: a, *b = input().split(). What is b?", 'options': ["A) 'B'", "B) ['B']", "C) ['B', 'C']", "D) 'B C'"], 'answer': 'C', 'explanation': "Extended iterable unpacking. 'a' gets the first item 'A'. '*b' gets the rest as a list ['B', 'C']."}, {'q': '10. Which statement safely reads an integer from input without crashing on text?', 'options': ['A) int(input())', 'B) input().to_int()', 'C) try: x=int(input()) except: pass', 'D) check(input())'], 'answer': 'C', 'explanation': 'int() raises ValueError on non-integer strings. A try-except block is the standard way to handle this safety.'}, {'q': '11. What is the value of z?\nx = 5\ny = 10\nz = x if x > y else y', 'options': ['A) 5', 'B) 10', 'C) True', 'D) False'], 'answer': 'B', 'explanation': "This is a ternary operator. Since x > y (5 > 10) is False, z takes the 'else' value, which is y (10)."}, {'q': "12. What does 'hi' in 'hill' return?", 'options': ['A) True', 'B) False', 'C) Error', 'D) Index 0'], 'answer': 'A', 'explanation': "The 'in' operator checks for substring existence in strings. 'hi' is a substring of 'hill'."}, {'q': '13. What is the output?\ndef f(L=[]):\n    L.append(1)\n    return L\nprint(f()); print(f())', 'options': ['A) [1] then [1]', 'B) [1] then [1, 1]', 'C) [1] then Error', 'D) [] then [1]'], 'answer': 'B', 'explanation': 'Default mutable arguments are evaluated only once at function definition. The same list object is used across calls. First call adds 1 -> [1]. Second call adds 1 to the *same* list -> [1, 1].'}, {'q': "14. How to find the largest value in a dictionary 'd' based on values?", 'options': ['A) max(d)', 'B) max(d.values())', 'C) max(d, key=d.get)', 'D) d.max()'], 'answer': 'B', 'explanation': 'max(d.values()) returns the largest value. (Note: max(d, key=d.get) would return the KEY associated with the largest value).'}, {'q': "15. What happens here?\nx = 'abc'\nx[0] = 'z'", 'options': ["A) x becomes 'zbc'", 'B) Error: item assignment', "C) x becomes 'abc'", "D) x becomes 'z'"], 'answer': 'B', 'explanation': 'Strings in Python are immutable. You cannot assign to an index.'}, {'q': '16. What is the result of 5 ^ 3?', 'options': ['A) 125', 'B) 15', 'C) 6', 'D) 8'], 'answer': 'C', 'explanation': '^ is the Bitwise XOR operator. 5 is 101, 3 is 011. 101 XOR 011 = 110 (which is 6). (Power is **). This is a common trap.'}, {'q': '17. What does the following code print?\nprint(list(range(5, 0, -2)))', 'options': ['A) [5, 3, 1]', 'B) [5, 4, 3, 2, 1]', 'C) [0, 2, 4]', 'D) []'], 'answer': 'A', 'explanation': 'Start at 5. Step -2. 5 -> 3 -> 1. Next is -1, which is past stop (0). Result [5, 3, 1].'}, {'q': '18. How do you swap variables a and b in one line?', 'options': ['A) a = b; b = a', 'B) a, b = b, a', 'C) swap(a, b)', 'D) a = b'], 'answer': 'B', 'explanation': 'Tuple unpacking allows swapping without a temporary variable: a, b = b, a.'}, {'q': "19. What is the output?\ns = 'banana'\nprint(s.count('a'))", 'options': ['A) 1', 'B) 2', 'C) 3', 'D) 0'], 'answer': 'C', 'explanation': "The count method returns the number of non-overlapping occurrences of the substring. 'a' appears 3 times."}, {'q': "20. Which code properly reads 3 integers from a single line '10 20 30'?", 'options': ['A) a, b, c = input()', 'B) a, b, c = map(int, input().split())', 'C) a, b, c = int(input().split())', 'D) list(input())'], 'answer': 'B', 'explanation': 'input() gets string. split() creates list of strings. map(int, ...) converts them to ints. Unpacking assigns them to a, b, c.'}, {'q': "21. What is the output of bool('False')?", 'options': ['A) True', 'B) False', 'C) None', 'D) Error'], 'answer': 'A', 'explanation': "Any non-empty string is Truthy in Python. The string 'False' is not empty, so bool('False') is True."}, {'q': "22. What is the complexity of 'value in my_list'?", 'options': ['A) O(1)', 'B) O(log N)', 'C) O(N)', 'D) O(N^2)'], 'answer': 'C', 'explanation': 'Searching a list requires checking elements one by one (Linear search). Sets/Dicts are O(1).'}, {'q': '23. Output?\nx = 10\ndef foo():\n    global x\n    x += 1\nfoo()\nprint(x)', 'options': ['A) 10', 'B) 11', 'C) Error', 'D) None'], 'answer': 'B', 'explanation': "The 'global' keyword allows the function to modify the global variable x."}, {'q': "24. What does ord('A') do?", 'options': ["A) Returns 'A'", 'B) Returns 65 (ASCII)', 'C) Returns 1', 'D) Error'], 'answer': 'B', 'explanation': "ord() returns the integer Unicode/ASCII code point of a character. ord('A') is 65."}, {'q': "25. What is the result of zip([1, 2], ['a', 'b']) converted to a list?", 'options': ["A) [1, 'a', 2, 'b']", "B) [[1, 'a'], [2, 'b']]", "C) [(1, 'a'), (2, 'b')]", 'D) Error'], 'answer': 'C', 'explanation': "zip returns an iterator of tuples pairing elements from the inputs. [(1, 'a'), (2, 'b')]."}]


def run_quiz():
    score = 0
    print("Welcome to the Advanced CCC Python Quiz!")
    print("Type A, B, C, or D for each question.\n")
    
    for i, q in enumerate(questions):
        print("-" * 50)
        print(q['q'])
        for opt in q['options']:
            print(opt)
        
        user_ans = input("Your answer: ").strip().upper()
        
        if user_ans == q['answer']:
            print("Correct! âœ…")
            score += 1
        else:
            print(f"Wrong âŒ. The correct answer was {q['answer']}.")
        
        print(f"\nExplanation: {q['explanation']}\n")
        time.sleep(1.5)

    print("=" * 50)
    print(f"Quiz Finished! Your score: {score}/{len(questions)}")
    if score == len(questions):
        print("Perfect! ðŸ† You are ready for the contest!")
    elif score >= 20:
        print("Great job! ðŸ¥ˆ")
    else:
        print("Keep practicing! ðŸ’ª")

if __name__ == "__main__":
    run_quiz()
